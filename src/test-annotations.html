---
layout: base.njk
permalink: /test-annotations/
---

<div
  style="
    font-family: system-ui;
    max-width: 800px;
    margin: 2rem auto;
    padding: 1rem;
  "
>
  <h1>🔧 Annotation System Test</h1>

  <div
    style="
      background: #f0f8ff;
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
    "
  >
    <h2>📊 System Overview</h2>
    <p><strong>Total Episodes:</strong> {{ episodes.length }}</p>
    <p>
      <strong>Episodes with annotations:</strong>
      {% set annotatedCount = 0 %} {% for episode in episodes %} {% if
      episode.hasCustomContent %}{% set annotatedCount = annotatedCount + 1 %}{%
      endif %} {% endfor %} {{ annotatedCount }}
    </p>
  </div>

  <h2>🏆 Featured Episode (with annotations)</h2>
  {% for episode in episodes %} {% if episode.featured %}
  <div
    style="
      border: 2px solid #ffd700;
      background: #fffdf0;
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
    "
  >
    <h3>{{ episode.title }}</h3>
    <p><strong>Slug:</strong> <code>{{ episode.slug }}</code></p>
    <p><strong>Published:</strong> {{ episode.pubDate | date }}</p>

    {% if episode.tags.length > 0 %}
    <p>
      <strong>Tags:</strong>
      {% for tag in episode.tags %}
      <span
        style="
          background: #e3f2fd;
          padding: 0.2rem 0.5rem;
          margin: 0.1rem;
          border-radius: 12px;
          font-size: 0.8rem;
        "
        >{{ tag }}</span
      >
      {% endfor %}
    </p>
    {% endif %} {% if episode.notes %}
    <div
      style="
        background: #f3e5f5;
        padding: 1rem;
        border-radius: 4px;
        margin: 1rem 0;
      "
    >
      <strong>Enhanced Notes:</strong>
      {{ episode.notes | safe }}
    </div>
    {% endif %} {% if episode.corrections.length > 0 %}
    <div style="background: #fff8e1; padding: 1rem; border-radius: 4px">
      <strong>Corrections:</strong>
      <ul>
        {% for correction in episode.corrections %}
        <li>{{ correction }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    <p><small>Last annotated: {{ episode.lastAnnotated }}</small></p>
  </div>
  {% endif %} {% endfor %}

  <h2>📋 All Episodes</h2>
  {% for episode in episodes %}
  <div
    style="
      border: 1px solid #ddd;
      padding: 1rem;
      margin: 0.5rem 0;
      border-radius: 4px;
    "
  >
    <h4>{{ episode.episodeNumber }}. {{ episode.title }}</h4>
    <p><strong>Slug:</strong> <code>{{ episode.slug }}</code></p>
    <p><strong>Duration:</strong> {{ episode.duration }}</p>

    {% if episode.hasCustomContent %}
    <span
      style="
        background: #e8f5e8;
        color: #2e7d32;
        padding: 0.2rem 0.5rem;
        border-radius: 12px;
        font-size: 0.8rem;
      "
      >✨ Has Custom Content</span
    >
    {% endif %} {% if episode.tags.length > 0 %}
    <p><strong>Tags:</strong> {{ episode.tags | join(", ") }}</p>
    {% endif %}
  </div>
  {% endfor %}

  <h2>🔍 Raw Data (First Episode)</h2>
  <details>
    <summary>Click to see the full data structure</summary>
    <pre
      style="
        background: #f5f5f5;
        padding: 1rem;
        border-radius: 4px;
        overflow-x: auto;
        font-size: 0.8rem;
      "
    >
{{ episodes[0] | dump }}</pre
    >
  </details>
</div>
